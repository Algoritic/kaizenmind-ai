
from typing import Optional, List
from pentestai.models.persona_results import Finding
import os

def _mk(t,d,s,rec=None):
    return Finding(title=t, description=d, severity=s, recommendation=rec)

class TestToolkit:
    @staticmethod
    def run_tests(repo_path: Optional[str]=None) -> List[Finding]:
        if repo_path and os.path.exists(repo_path):
            return [_mk("Tests executed","pytest placeholder","low")]
        return [_mk("No repo","No repo provided","low")]

    @staticmethod
    def generate_smoke_tests(repo_path: Optional[str]=None) -> List[str]:
        return ["# Auto-generated smoke test\n\n"
                "def test_smoke():\n"
                "    assert True\n"]
